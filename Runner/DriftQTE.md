# üèéÔ∏è Drift QTE System

> **–†–µ–∂–∏–º:** Runner Mode (–≥–æ–Ω–æ—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏)  
> **–ì–¥–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç DriftQTESystemNWH –Ω–∞ –º–∞—à–∏–Ω–µ

---

## ‚úÖ Current (As-Is)
- QTE –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ Near Miss (–±–ª–∏–∑–∫–∏–π –ø—Ä–æ–µ–∑–¥ –º–∏–º–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è)
- Slow Motion –≤–æ –≤—Ä–µ–º—è –≤–≤–æ–¥–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- 3 —É—Ä–æ–≤–Ω—è –±—É—Å—Ç–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
- –ü—Ä–∏ 3-–º —É—Ä–æ–≤–Ω–µ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π —ç—Ç–∞–∂ –¥–æ—Ä–æ–≥–∏
- –ê–≤—Ç–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ QTE –≤–æ –≤—Ä–µ–º—è CarRecovery
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å NWH Vehicle Physics 2

## üß© Known Issues / TODO
- [ ] –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –≤–∞—Ä–∏–∞—Ü–∏–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- [ ] –í–∏–∑—É–∞–ª—å–Ω—ã–π feedback –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–∏
- [ ] –ó–≤—É–∫ "–ø–æ—á—Ç–∏ —É—Å–ø–µ–ª"

## üí° Notes
- PlayerInput –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è QTE –∫–æ–º–±–æ
- NWH —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–∞—à–∏–Ω–æ–π —á–µ—Ä–µ–∑ —Å–≤–æ—é —Å–∏—Å—Ç–µ–º—É
- –ö—É–ª–¥–∞—É–Ω –º–µ–∂–¥—É QTE = 3 —Å–µ–∫—É–Ω–¥—ã

---

## üìä Gameplay Flow

| Trigger | Response |
|---------|----------|
| Near Miss —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç | –®–∞–Ω—Å (50%) –∑–∞–ø—É—Å–∫–∞ QTE |
| QTE –∑–∞–ø—É—â–µ–Ω | Slow Motion (0.3x), –ø–æ–∫–∞–∑ –∫–æ–º–±–æ |
| –ò–≥—Ä–æ–∫ –≤–≤–æ–¥–∏—Ç –∫–æ–º–±–æ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| ‚úÖ –£—Å–ø–µ—Ö | +1 —É—Ä–æ–≤–µ–Ω—å –±—É—Å—Ç–∞, VFX, –∑–≤—É–∫ |
| ‚ùå –ü—Ä–æ–≤–∞–ª | –°–±—Ä–æ—Å –±—É—Å—Ç–∞, VFX fail |
| Boost Level 3 | –ú–∞—à–∏–Ω–∞ –µ–¥–µ—Ç –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π —ç—Ç–∞–∂ |

---

## ‚öôÔ∏è Parameters

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| `qteChance` | 0.5 (50%) | –®–∞–Ω—Å –ø–æ—è–≤–ª–µ–Ω–∏—è QTE |
| `qteInputTime` | 2.0 —Å | –í—Ä–µ–º—è –Ω–∞ –≤–≤–æ–¥ (—Ä–µ–∞–ª—å–Ω–æ–µ) |
| `slowMotionScale` | 0.3 | –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ |
| `qteCooldown` | 3.0 —Å | –ö—É–ª–¥–∞—É–Ω –º–µ–∂–¥—É QTE |
| `comboLength` | 3 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫ –≤ –∫–æ–º–±–æ |

---

## üéÆ Available Actions for Combo

```
–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≤ Inspector:
- Move (WASD / Stick)
- Handbrake (Space / A)
- Jump
- ResetCar
```

*–ù–∞–∑–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å Input Action Map "Car"*

---

## üîó Dependencies

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|
| `VehicleController` | NWH Physics |
| `CarBoostSystemNWH` | –°–∏—Å—Ç–µ–º–∞ –±—É—Å—Ç–æ–≤ |
| `RoadLevelSwitcherNWH` | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–∞–∂–µ–π |
| `CarRecoveryManagerNWH` | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ recovery |
| `PlayerInput` | –í–≤–æ–¥ QTE –∫–æ–º–±–æ |
| `ObstacleService` | –°–≤—è–∑—å —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏ |
| `RunnerTimerService` | –¢–∞–π–º–µ—Ä —Ä–∞–Ω–Ω–µ—Ä–∞ |
| `InputPromptService` | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ |

---

## üé® UI Elements

| –≠–ª–µ–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `qteDisplayUI` | TextMeshPro —Å –∫–æ–º–±–æ |
| `qteCanvasGroup` | Fade in/out UI |
| `uiFadeSpeed` | 0.3 —Å |

---

## üé¨ VFX / SFX

| –°–æ–±—ã—Ç–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç |
|---------|--------|
| QTE Start | `qteStartSfx` |
| QTE Success | `qteSuccessSfx` + `successVfxPrefab` |
| QTE Fail | `qteFailSfx` + `failVfxPrefab` |

---

## üß† –¶–∏–∫–ª —Ä–∞–±–æ—Ç—ã

> **Idle** ‚Üí Near Miss ‚Üí **QTE Active** (Slow Mo) ‚Üí –£—Å–ø–µ—Ö/–ü—Ä–æ–≤–∞–ª ‚Üí **Cooldown** ‚Üí Idle

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

| –°–∏—Å—Ç–µ–º–∞ | –°–≤—è–∑—å |
|---------|------|
| Near Miss Detector | –¢—Ä–∏–≥–≥–µ—Ä QTE |
| Boost System | –ü–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –ø—Ä–∏ —É—Å–ø–µ—Ö–µ |
| Road Level Switcher | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–∞–∂–∞ –ø—Ä–∏ L3 |
| Car Recovery | –ë–ª–æ–∫–∏—Ä—É–µ—Ç QTE –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ |
